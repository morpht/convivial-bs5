/*! @convivial_bootstrap/icon */

// Icon view mode styling.
.icon {
  position: relative;
  height: 100%;

  // Prevent items from getting too squished and pushing single
  // items into a new line.
  min-width: 150px;

  &.icon-bg--color {
    color: $icon-color;

    a {
      color: $icon-link-color;

      &:hover,
      &:focus {
        color: $icon-link-hover-color;
      }
    }
  }

  &.icon--icon-only {
    .icon__wrap {
      // Vertical align items.
      align-items: center;
    }
    // Remove all extra padding and margin.
    .icon__content {
      padding: 0;
    }
    .icon__icon {
      margin: 0;
    }
  }

  &.icon-bg--dark {
    color: $icon-dark-color;

    a {
      color: $icon-dark-link-color;

      &:hover,
      &:focus {
        color: $icon-dark-link-hover-color;
      }
    }
  }

  .icon__link {
    display: block;
    height: 100%;
    width: 100%;
    text-decoration: none; // Underline affects everything wrapped in a tag so we need to set it to none.

    .icon__title {
      text-decoration: underline;
    }

    &:hover {
      box-shadow: 0 2px 4px $shadow-color;

      .icon__title {
        text-decoration: none;
      }
    }
  }

  .media-entity {
    max-width: 100%;

    img {
      height: auto;
    }
  }
}

.icon__wrap {
  width: 100%;
  height: 100%;

  // Support for vertical alignment.
  display: flex;
}

.icon__content-wrap {
  position: relative;
  z-index: 3;
}

.icon__content {
  padding: 30px 20px;
  text-align: center;
  margin: 0 auto;

  @if $enable-rounded {
    @include border-radius($card-border-radius);
  }
}

.icon__icon {
  margin: 0 auto 1rem;
  max-width: 100px;
}

.icon__title {
  @include font-size($h5-font-size);
  font-weight: $headings-font-weight;
  line-height: $headings-line-height;
  margin: 0 auto .5rem;
}

.icon__overlay {
  height: 100%;
  display: flex;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 2;

  .icon--has-image & {
    background: rgba($white, .5);
  }

  .icon--has-image.icon-bg--dark & {
    background: rgba($black, .5);
  }

  @if $enable-rounded {
    @include border-radius($card-border-radius);
  }
}

.icon__image {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
  background-size: cover;
  background-position: 50% 50%;
}

.icon__ratio {
  height: 0;
}
