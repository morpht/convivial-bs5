/*! @convivial_bootstrap/color-palette */
:root {
  --standard-light: #FFFFFF;
  --standard-dark: #000000;
  --alt-text: rgba(0, 0, 0, 0.6);

  --standard-bg: var(--bs-body-bg);
  --standard-link: #066DAC;
  --standard-focus: #ac4606;
  --standard-accent: #064771;

  --light-bg: #F0F0F0;
  --light-link: #066DAC;
  --light-focus: #ac4606;
  --light-accent: #064771;

  --dark-bg: #064771;
  --dark-link: #68BEF8;
  --dark-focus: #f8a268;
  --dark-accent: #9FD5F9;

  --primary-light-bg: #FFDBFF;
  --primary-light-link: #a00aa0;
  --primary-light-focus: #0A549E;
  --primary-light-accent: #700770;

  --primary-dark-bg: #700770;
  --primary-dark-focus: #dbffdb;
  --primary-dark-link: #ff8eff;
  --primary-dark-accent: #FFDBFF;
}

.cp {
  padding-top: calc($grid-gutter-width * 2);
  padding-bottom: calc($grid-gutter-width * 2);

  // Only on desktop.
  @include media-breakpoint-up(md) {
    padding-left: $grid-gutter-width;
    padding-right: $grid-gutter-width;
  }
}

.cp--standard {
  background-color: var(--standard-bg);
}

$palettes: (
  light: (
    is_dark: false,
    bg: var(--light-bg),
    link: var(--light-link),
    focus: var(--light-focus),
    accent: var(--light-accent),
  ),
  dark: (
    is_dark: true,
    bg: var(--dark-bg),
    link: var(--dark-link),
    focus: var(--dark-focus),
    accent: var(--dark-accent),
  ),
  primary: (
    is_dark: false,
    bg: var(--primary-light-bg),
    link: var(--primary-light-link),
    focus: var(--primary-light-focus),
    accent: var(--primary-light-accent),
  ),
  primary-dark: (
    is_dark: true,
    bg: var(--primary-dark-bg),
    link: var(--primary-dark-link),
    focus: var(--primary-dark-focus),
    accent: var(--primary-dark-accent),
  ),
);

// Palettes.
@each $label, $map in $palettes {
  $is_dark: map-get($map, is_dark);

  .cp--#{$label} {

    // Background.
    background-color: map-get($map, bg);

    // Links.
    a {
      color: map-get($map, link);

      &:focus {
        outline: 2px solid map-get($map, focus);
      }

      @if $is_dark == true {
        &:hover {
          filter: brightness(85%);
        }
      } @else {
        &:hover {
          filter: brightness(135%);
        }
      }
    }

    // Foreground.
    @if $is_dark == true {
      color: var(--standard-light);
      --alt-text: $white;
    } @else {
      color: var(--standard-dark);
    }

    // Buttons.
    .btn.btn-link {
      color: map-get($map, link);

      &:focus {
        outline: $btn-outline-width $btn-outline-style map-get($map, focus);
        outline-offset: $btn-outline-offset;
      }
    }

    // The darkness of the background will determine if things are lightened or darkened here.
    @if $is_dark == true {
      .btn.btn-primary {
        @include convivial-button-variant(map-get($map, accent), map-get($map, accent), map-get($map, focus), $darken-90);
      }
      .btn.btn-secondary {
        @include convivial-button-variant(map-get($map, link), map-get($map, link), map-get($map, focus), $darken-90);
      }
      .btn.btn-light {
        @include convivial-button-variant($lighten-90, $lighten-90, map-get($map, focus), $darken-90);
      }
      .btn.btn-dark {
        @include convivial-button-variant($darken-90, $darken-90, map-get($map, focus), $lighten-90);
      }
      .btn.btn-outline-primary {
        @include convivial-outline-button-variant(map-get($map, accent), $darken-90, map-get($map, focus));
      }
      .btn.btn-outline-secondary {
        @include convivial-outline-button-variant(map-get($map, link), $darken-90, map-get($map, focus));
      }
      .btn.btn-outline-light {
        @include convivial-outline-button-variant($lighten-90, $darken-90, map-get($map, focus));
      }
      // On dark backgrounds, the dark button looks same as the light button.
      .btn.btn-outline-dark {
        @include convivial-outline-button-variant($lighten-90, $darken-90, map-get($map, focus));
      }
    } @else {
      .btn.btn-primary {
        @include convivial-button-variant(map-get($map, accent), map-get($map, accent), map-get($map, focus), $lighten-90);
      }
      .btn.btn-secondary {
        @include convivial-button-variant(map-get($map, link), map-get($map, link), map-get($map, focus), $lighten-90);
      }
      .btn.btn-light {
        @include convivial-button-variant($darken-10, $darken-10, map-get($map, focus), $darken-90);
      }
      .btn.btn-dark {
        @include convivial-button-variant($darken-90, $darken-90, map-get($map, focus), $lighten-90);
      }
      .btn.btn-outline-primary {
        @include convivial-outline-button-variant(map-get($map, accent), $lighten-90, map-get($map, focus));
      }
      .btn.btn-outline-secondary {
        @include convivial-outline-button-variant(map-get($map, link), $lighten-90, map-get($map, focus));
      }
      // On light backgrounds, the light button looks same as the dark button.
      .btn.btn-outline-light {
        @include convivial-outline-button-variant($darken-90, $lighten-90, map-get($map, focus));
      }
      .btn.btn-outline-dark {
        @include convivial-outline-button-variant($darken-90, $lighten-90, map-get($map, focus));
      }
    }

    // Callout.
    @if $is_dark == true {
      blockquote,
      .callout {
        background: rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.5);
        border-left-width: 5px;
      }
    } @else {
      blockquote,
      .callout {
        background: rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(0, 0, 0, 0.5);
        border-left-width: 5px;
      }
    }
  }
}
